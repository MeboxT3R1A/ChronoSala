{% extends 'index.html' %}

{% block title %}Painel do Coordenador{% endblock %}

{% block content %}
<h1>Painel do Coordenador</h1>
<button onclick="abrirModal()">+ Nova Sala</button>
<a href="{{ url_for('coordenador_bp.cadastro_usuario') }}">
    <button type="button">Cadastro Usuário</button>
</a>
{% with messages = get_flashed_messages() %}
  {% if messages %}
    <ul class="flash-messages">
      {% for msg in messages %}
        <li>{{ msg }}</li>
      {% endfor %}
    </ul>
  {% endif %}
{% endwith %}

<table border="1" cellpadding="8" cellspacing="0" style="width: 100%; border-collapse: collapse;">
  <thead>
    <tr>
      <th>Nome</th>
      <th>Status</th>
      <th>Ações</th>
    </tr>
  </thead>
  <tbody>
    {% for sala in salas %}
    <tr>
      <td>{{ sala.nome_sala }}</td>
      <td>{{ sala.status_sala.value }}</td>
      <td>
        <a href="{{ url_for('coordenador_bp.editar_sala', nome_sala=sala.nome_sala) }}" class="btn-cancelar">Editar</a>

        <form action="{{ url_for('coordenador_bp.excluir_sala', nome_sala=sala.nome_sala) }}" method="POST" style="display:inline;" 
              onsubmit="return confirm('Confirma exclusão da sala {{ sala.nome_sala }}?');">
          <button type="submit" style="background-color: #e74c3c; color: white;">Excluir</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>


{% endblock %}
